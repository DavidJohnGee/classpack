---
    chain:
        - 
            name: "get_key"
            ref: "st2.kv.get"
            parameters:
                key: "classpack:name"
            publish:
                get_key_output: "{{get_key.result}}"
            on-success: "c1"
            on-failure: "c3"
        -
            name: "c1"
            ref: "chatops.post_message"
            parameters:
                message: "The classpack:name key is: {{ get_key_output }}"
                channel: "#general"
            on-success: "c2"
            on-failure: "c3"
        -
            name: "c2"
            ref: "core.local"
            parameters:
                cmd: "echo \"c2: parent exec is {{ action_context.parent.execution_id }}.\""
            on-failure: "c3"
        -
            name: "c3"
            ref: "core.local"
            parameters:
                cmd: "echo {{ c1output }}"
    default: "get_key"
