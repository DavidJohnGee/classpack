---
version: '2.0'

classpack.mistralbasic:
    input:
        - echo
    description: A basic workflow that runs two Linux commands
    type: direct
    output:
        stdout: <% $.stdout %>
    tasks:
        task1:
            action: core.local cmd="echo <% $.echo %>"
            publish:
                stdout: <% task(task1).result.stdout %>
                stderr: <% task(task1).result.stderr %>
            on-success:
                - task2
        task2: 
            action: core.local cmd="sleep 3"
            on-success:
                - task3
        task3:
            action: core.local cmd="fortune"
            publish:
                stdout: <% task(task2).result.stdout %>
                stderr: <% task(task2).result.stderr %>
